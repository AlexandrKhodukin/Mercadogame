<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±—ä—è–≤–ª–µ–Ω–∏—è - MercadoGame</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π */

        .container {
            position: relative;
            z-index: 1;
        }

        /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
        .background-desktop {
            display: block;
        }

        .background-mobile {
            display: none;
        }

        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ */
        .game-info-section {
            margin-bottom: 30px;
        }

        .game-info-title {
            font-size: 28px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 10px;
        }

        .game-info-description {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.6;
        }

        /* –§–∏–ª—å—Ç—Ä—ã */
        .filters {
            background: transparent;
            padding: 40px 0 0 0;
            margin-bottom: 20px;
        }

        .filters-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .server-and-sell-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .server-filter-container {
            flex-shrink: 0;
        }

        .server-select {
            padding: 8px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: #f7f8fa;
            color: #1f2937;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            outline: none;
            min-width: 180px;
        }

        .server-select:hover {
            border-color: #cbd5e1;
        }

        .server-select:focus {
            border-color: #2563eb;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .sell-button-container {
            flex-shrink: 0;
        }

        .sell-btn {
            padding: 8px 16px;
            background: #f7f8fa;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            box-shadow: none;
            min-width: 180px;
            justify-content: center;
        }

        .sell-btn-icon {
            display: none;
        }

        .sell-btn-text {
            color: #6b7280;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
        }

        .sell-btn:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }

        .sell-btn:hover .sell-btn-text {
            color: #1f2937;
        }

        .category-filters {
            display: flex;
            justify-content: flex-start;
            gap: 30px;
            flex-wrap: wrap;
            flex: 1;
        }

        .filter-btn {
            padding: 0;
            background: transparent;
            color: #6b7280;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
        }

        .filter-icon {
            min-width: 120px;
            height: 42px;
            border-radius: 8px;
            background: #f7f8fa;
            border: 2px solid #cbd5e1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            transition: all 0.3s ease;
            padding: 0 16px;
            text-align: center;
            line-height: 1.2;
        }

        .filter-btn:hover .filter-icon {
            background: #e5e7eb;
            border-color: #cbd5e1;
            color: #1f2937;
        }

        .filter-btn.active .filter-icon {
            background: #ffffff;
            border-color: #2563eb;
            color: #2563eb;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            /* –°–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω—É—é */
            .background-desktop {
                display: none;
            }

            .background-mobile {
                display: block;
            }

            /* –£–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ */
            .container {
                position: relative;
                padding: 0;
                display: flex;
                flex-direction: column;
            }

            /* –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã */
            .game-info-section {
                background: #ffffff;
                padding: 16px;
                margin: 0;
                order: 1;
            }

            .game-info-title {
                font-size: 20px;
                font-weight: 700;
                margin-bottom: 8px;
            }

            .game-info-description {
                font-size: 13px;
                line-height: 1.5;
                color: #6b7280;
            }

            /* –§–æ–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ - –∫—Ä—É–≥–ª–∞—è –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */
            .background-mobile {
                position: relative;
                width: calc(100vw - 40px);
                height: calc(100vw - 40px);
                max-width: 400px;
                max-height: 400px;
                border-radius: 50%;
                opacity: 1;
                margin: 0 auto;
                order: 2;
            }

            /* –§–∏–ª—å—Ç—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ - –Ω–∞–ª–µ–∑–∞—é—Ç –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É */
            .filters {
                position: relative;
                background: transparent;
                padding: 16px;
                margin-top: -120px;
                border-bottom: none;
                order: 3;
                z-index: 20;
            }

            .category-filters {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                justify-content: stretch;
                background: transparent;
                padding: 0;
            }

            .filter-btn {
                width: 100%;
            }

            .filter-icon {
                width: 100%;
                min-width: auto;
                height: 38px;
                font-size: 13px;
                padding: 0 12px;
                background: rgba(255, 255, 255, 0.95);
                border: 2px solid #cbd5e1;
                backdrop-filter: blur(10px);
                border-radius: 12px;
            }

            .filter-btn:hover .filter-icon {
                background: #ffffff;
                border-color: #9ca3af;
            }

            .filter-btn.active .filter-icon {
                background: #ffffff;
                border-color: #2563eb;
            }

            /* –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π */
            #listings-header {
                order: 4;
            }

            #listings {
                order: 5;
                background: #ffffff;
                padding: 0 16px 16px 16px;
            }

            .server-and-sell-container {
                flex-direction: row;
                width: 100%;
                gap: 10px;
                justify-content: space-between;
            }

            .server-filter-container {
                flex: 1;
            }

            .server-select {
                width: 100%;
                min-width: auto;
                padding: 10px 12px;
                font-size: 14px;
                max-width: 100%;
            }

            .sell-button-container {
                flex: 1;
            }

            .sell-btn {
                width: 100%;
                min-width: auto;
                padding: 10px 16px;
            }

            .sell-btn-text {
                font-size: 14px;
            }

            /* –°–∫—Ä—ã–≤–∞–µ–º —à–∞–ø–∫—É —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .listings-header {
                display: none !important;
            }

            /* –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ - –∫–∞–∫ –≤ my-listings */
            .listings {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 20px;
            }

            /* –ö–∞—Ä—Ç–æ—á–∫–∏ - –¢–û–ß–ù–ê–Ø –ö–û–ü–ò–Ø –∏–∑ my-listings.html */
            .listing-card {
                background: #ffffff;
                border: 1px solid #e5e7eb;
                border-radius: 12px;
                padding: 20px;
                transition: all 0.3s;
                cursor: pointer;
                text-decoration: none;
                display: flex !important;
                flex-direction: column;
                gap: 8px;
                position: relative;
                grid-template-columns: unset !important;
                align-items: stretch;
            }

            .listing-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
                border-color: #ff6b35;
            }

            /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ - —Å—Ç–∏–ª—å FunPay */

            /* –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */
            .listing-card {
                display: flex !important;
                flex-direction: row !important;
                gap: 12px !important;
                align-items: stretch !important;
            }

            /* –ö–æ–Ω—Ç–µ–Ω—Ç —Å–ª–µ–≤–∞ - –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —Ü–µ–Ω—ã */
            .mobile-content {
                flex: 1;
                display: flex;
                flex-direction: column;
                min-width: 0;
            }

            /* –°–µ—Ä–≤–µ—Ä - —Å–≤–µ—Ä—Ö—É, –º–∞–ª–µ–Ω—å–∫–∏–π —Å–µ—Ä—ã–π */
            .mobile-server {
                font-size: 12px;
                font-weight: 500;
                color: #9ca3af;
                margin-bottom: 6px;
                text-align: left;
            }

            /* –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ */
            .mobile-title {
                font-size: 15px;
                font-weight: 600;
                color: #1f2937;
                margin-bottom: 6px;
                overflow: hidden;
                text-overflow: ellipsis;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                text-align: left;
                line-height: 1.3;
            }

            /* –û–ø–∏—Å–∞–Ω–∏–µ */
            .mobile-description {
                color: #6b7280;
                font-size: 13px;
                margin-bottom: 8px;
                overflow: hidden;
                text-overflow: ellipsis;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                line-height: 1.4;
                text-align: left;
            }

            /* –ü—Ä–æ–¥–∞–≤–µ—Ü –≤–Ω–∏–∑—É —Å–ª–µ–≤–∞ */
            .mobile-seller {
                display: flex;
                align-items: center;
                gap: 6px;
                text-decoration: none;
                padding: 4px 0;
                width: fit-content;
                margin-top: auto;
            }

            .mobile-avatar {
                width: 24px;
                height: 24px;
                min-width: 24px;
                background: #f7f8fa;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #6b7280;
                font-size: 12px;
                border: 1px solid #e5e7eb;
                flex-shrink: 0;
            }

            .mobile-seller-name {
                color: #6b7280;
                font-weight: 500;
                font-size: 12px;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            /* –¶–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞ - –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É */
            .mobile-price {
                font-size: 15px;
                font-weight: 600;
                color: #1f2937;
                flex-shrink: 0;
                display: flex;
                align-items: center;
                justify-content: flex-end;
                padding-left: 12px;
                white-space: nowrap;
            }
        }

        /* –®–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã */
        .listings-header {
            display: grid;
            grid-template-columns: 80px 200px 1fr 180px 120px;
            gap: 20px;
            padding: 12px 16px;
            background: #f7f8fa;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #e5e7eb;
        }

        .header-cell {
            font-weight: 700;
            font-size: 13px;
            color: #2563eb;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .header-cell-sortable {
            cursor: pointer;
            user-select: none;
            transition: all 0.2s;
        }

        .header-cell-sortable:hover {
            color: #1d4ed8;
        }

        .sort-icon {
            margin-left: 5px;
            font-size: 10px;
            color: #9ca3af;
            opacity: 0.3;
        }

        /* –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π */
        .listings {
            display: grid;
            gap: 12px;
            margin-top: 20px;
            overflow-x: hidden;
            max-width: 100%;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è */
        .listing-card {
            background: #ffffff;
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s;
            border: 1px solid #e5e7eb;
            display: grid;
            grid-template-columns: 80px 200px 1fr 180px 120px;
            gap: 20px;
            align-items: center;
            overflow: hidden;
            max-width: 100%;
        }

        .listing-card:hover {
            border-color: #cbd5e1;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transform: translateY(-2px);
        }

        /* –ù–æ–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞ */
        .listing-server {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
            text-align: left;
            padding: 0;
            background: transparent;
            border-radius: 0;
        }

        /* –ù–∞–∑–≤–∞–Ω–∏–µ */
        .listing-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 200px;
        }

        .listing-title {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .listing-category-badge {
            font-size: 12px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ */
        .listing-description {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }

        /* –ü—Ä–æ–¥–∞–≤–µ—Ü */
        .listing-seller-section {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 180px;
            max-width: 180px;
            cursor: pointer;
            padding: 8px;
            margin: -8px;
            border-radius: 8px;
            transition: all 0.3s;
            text-decoration: none;
        }

        .listing-seller-section:hover {
            background: #f7f8fa;
        }

        .listing-seller-section:hover .seller-avatar {
            background: #f7f8fa;
            color: #6b7280;
            border-color: #cbd5e1;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .listing-seller-section:hover .listing-seller-name {
            color: #2563eb;
        }

        .seller-avatar {
            width: 40px;
            height: 40px;
            min-width: 40px;
            background: #f7f8fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 20px;
            border: 2px solid #e5e7eb;
            transition: all 0.3s;
        }

        .listing-seller-name {
            color: #1f2937;
            font-weight: 600;
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex: 1;
            transition: all 0.3s;
            min-width: 0;
        }

        /* –¶–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞ */
        .listing-price-section {
            text-align: right;
            width: 120px;
        }

        .listing-price {
            font-size: 15px;
            font-weight: 600;
            color: #1f2937;
        }

        /* –§–æ–Ω –≤ —Å—Ç–∏–ª–µ FunPay –¢–û–õ–¨–ö–û –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π */
        @media (min-width: 769px) {
            .background-image {
                position: absolute;
                left: 0;
                right: 0;
                top: 0;
                transform: none;
                width: 100%;
                height: 400px;
                background-position: center top;
                border-radius: 0 0 100% 100% / 0 0 15% 15%;
            }
        }
    </style>
</head>
<body class="listings-page">
<!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">
                <img src="images/logo.png" alt="MercadoGame" class="logo-image">
                <span class="logo-text">Mercado<span>Game</span></span>
            </a>
            <div class="header-search">
                <input
                    type="text"
                    class="header-search-input"
                    placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–≥—Ä–∞–º –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º..."
                    data-i18n-placeholder="search_placeholder"
                    id="header-search"
                >
            </div>
            <div id="auth-buttons" class="auth-buttons">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞</div>
            </div>
        </div>
    </header>

    <!-- –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞) -->
    <div class="background-image background-desktop"></div>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ -->
        <div class="game-info-section" id="game-info">
            <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ JavaScript -->
        </div>

        <!-- –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π) -->
        <div class="background-image background-mobile"></div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filters">
            <div class="filters-container">
                <!-- –§–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                <div class="category-filters">
                    <button class="filter-btn active" id="filter-all" onclick="filterByCategory('all')">
                        <div class="filter-icon" data-i18n="all_categories">–í—Å–µ</div>
                    </button>
                    <button class="filter-btn" id="filter-account" onclick="filterByCategory('account')">
                        <div class="filter-icon" data-i18n="cat_account">–ê–∫–∫–∞—É–Ω—Ç—ã</div>
                    </button>
                    <button class="filter-btn" id="filter-currency" onclick="filterByCategory('currency')">
                        <div class="filter-icon" data-i18n="cat_currency">–í–∞–ª—é—Ç–∞</div>
                    </button>
                    <button class="filter-btn" id="filter-service" onclick="filterByCategory('service')">
                        <div class="filter-icon" data-i18n="cat_service">–£—Å–ª—É–≥–∏</div>
                    </button>
                    <button class="filter-btn" id="filter-other" onclick="filterByCategory('other')">
                        <div class="filter-icon" data-i18n="cat_other">–î—Ä—É–≥–æ–µ</div>
                    </button>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º –∏ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–∞—Ç—å" -->
                <div class="server-and-sell-container">
                    <div class="server-filter-container">
                        <select class="server-select" id="server-filter" onchange="filterByServer()">
                            <option value="all">–°–µ—Ä–≤–µ—Ä</option>
                        </select>
                    </div>
                    <div class="sell-button-container">
                        <a href="#" class="sell-btn" id="sell-btn">
                            <div class="sell-btn-icon">üí∞</div>
                            <div class="sell-btn-text" data-i18n="sell">–ü—Ä–æ–¥–∞—Ç—å</div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- –®–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã -->
        <div class="listings-header" id="listings-header" style="display: none;">
            <div class="header-cell" data-i18n="server">–°–µ—Ä–≤–µ—Ä</div>
            <div class="header-cell" data-i18n="title">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</div>
            <div class="header-cell" data-i18n="description">–û–ø–∏—Å–∞–Ω–∏–µ</div>
            <div class="header-cell" data-i18n="seller">–ü—Ä–æ–¥–∞–≤–µ—Ü</div>
            <div class="header-cell header-cell-sortable" style="text-align: right;" onclick="togglePriceSort()">
                <span data-i18n="price">–¶–µ–Ω–∞</span> <span class="sort-icon" id="sort-icon">‚ñº</span>
            </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
        <div id="listings" class="listings">
            <div class="loading" data-i18n="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
        </div>
    </div>

    <script src="js/i18n.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/search.js"></script>
    <script src="js/pages/listings-page.js"></script>
</body>
</html>